<!doctype html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Voc√™ aceita?</title>

  <style>
    :root{
      --bg: #3A4F41;
      --card: #BFD2BF;
      --text: #FAA275;
      --yes: #A67DB8;
      --no: #7261A3;
      --shadow: 0 18px 40px rgba(0,0,0,.25);
      --radius: 18px;
    }

    *{ box-sizing: border-box; }

    body{
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow: hidden;
      padding: 18px;
    }

    .card{
      width: min(520px, 92vw);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
      position: relative;
    }

    /* Moldura da imagem (n√£o corta) */
    .img-wrap{
      width: 50%;
      margin: 0 auto;
      aspect-ratio: 1 / 1;
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,.15);
      background: rgba(0,0,0,.12);
      display: grid;
      place-items: center;
      padding: 12px;
    }

    /* Imagem menor, inteira, sem corte */
    .img-wrap img{
      max-width: 70%;
      max-height: 70%;
      object-fit: contain;
      object-position: center;
      display: block;
    }

    h1{
      margin: 14px 0 4px;
      font-size: 22px;
      letter-spacing: .2px;
    }

    p{
      margin: 0 0 14px;
      opacity: .9;
      line-height: 1.45;
      font-size: 15px;
    }

    .actions{
      position: relative;
      height: 90px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
      margin-top: 6px;
    }

    button{
      border: 0;
      cursor: pointer;
      padding: 14px 22px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 15px;
      transition: transform .12s ease, filter .12s ease, opacity .12s ease;
      user-select: none;
      will-change: transform, left, top;
    }

    #yesBtn{
      background: var(--yes);
      color: var(--text);
      box-shadow: 0 8px 20px rgba(0,0,0,.25);
      transform: scale(1);
    }

    #noBtn{
      background: var(--no);
      color: var(--text);
      box-shadow: 0 8px 20px rgba(0,0,0,.25);
      position: relative; /* come√ßa normal */
      transform: scale(1);
    }

    .result{
      margin-top: 14px;
      display: none;
      padding: 14px;
      border-radius: 14px;
      background: rgba(0,0,0,.15);
      border: 1px solid rgba(0,0,0,.12);
    }

    .result.show{
      display: flex;
      gap: 12px;
      align-items: center;
      flex-direction: column;
    }

    .result .text{
      font-size: 14px;
      line-height: 1.35;
      font-weight: 700;
    }

    .result img{
      width: 90px;
      height: 90px;
      object-fit: contain;
      border-radius: 10px;
      border: 1px solid rgba(0,0,0,.15);
      background: rgba(0,0,0,.08);
      flex: 0 0 auto;
    }
  </style>
</head>

<body>
  <div class="card">
    <div class="img-wrap">
      <img src="./foto principal.webp" alt="Imagem" />
    </div>

    <h1>Voc√™ aceita ir no Brites comigo?</h1>
    <p>Pode at√© tentar negar üòÅ</p>

    <div class="actions" id="arena">
      <button id="yesBtn" type="button">Sim</button>
      <button id="noBtn" type="button">N√£o</button>
    </div>

    <div class="result" id="result">
      <div class="text">üéâ AEEEE! Ent√£o est√° combinado √© um encontro üòåüíñ</div>
      <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExbzk1ZHZkbm95NTA1bXF5YW1jYzR2Znc1anhmaDU4MHpvbjU0aWN1NSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jKaFXbKyZFja0/giphy.gif" alt="GIF" />
    </div>
  </div>

  <script>
    const arena  = document.getElementById("arena");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const result = document.getElementById("result");

    let yesScale = 1;
    let noIsAbsolute = false;
    let finished = false;

    function clamp(v, min, max){
      return Math.max(min, Math.min(max, v));
    }

    function growYes(){
      if (finished) return;
      yesScale *= 1.2;
      yesBtn.style.transform = `scale(${yesScale})`;
    }

    function moveNoButtonAwayFrom(x, y){
      if (finished) return;

      const a = arena.getBoundingClientRect();

      // primeira fuga: vira absolute para correr dentro da arena
      if(!noIsAbsolute){
        const nb = noBtn.getBoundingClientRect();
        noBtn.style.position = "absolute";
        noBtn.style.left = (nb.left - a.left) + "px";
        noBtn.style.top  = (nb.top  - a.top ) + "px";
        noBtn.style.transform = "translate(0,0)";
        noIsAbsolute = true;
      }

      const b = noBtn.getBoundingClientRect();
      const mx = x - a.left;
      const my = y - a.top;
      const padding = 8;

      let nx = (mx < a.width / 2) ? a.width * 0.75 : a.width * 0.25;
      let ny = (my < a.height / 2) ? a.height * 0.65 : a.height * 0.35;

      nx += (Math.random() - 0.5) * 160;
      ny += (Math.random() - 0.5) * 60;

      const maxX = a.width - b.width - padding;
      const maxY = a.height - b.height - padding;

      nx = clamp(nx - b.width/2, padding, maxX);
      ny = clamp(ny - b.height/2, padding, maxY);

      noBtn.style.left = nx + "px";
      noBtn.style.top  = ny + "px";
    }

    // "N√£o" foge ao chegar perto/tentar clicar
    noBtn.addEventListener("mouseenter", (e) => {
      growYes();
      moveNoButtonAwayFrom(e.clientX, e.clientY);
    });

    noBtn.addEventListener("mousedown", (e) => {
      e.preventDefault();
      growYes();
      moveNoButtonAwayFrom(e.clientX, e.clientY);
    });

    // Quando passa perto na arena, ele foge
    arena.addEventListener("mousemove", (e) => {
      if (finished) return;

      const nb = noBtn.getBoundingClientRect();
      const dx = e.clientX - (nb.left + nb.width/2);
      const dy = e.clientX - (nb.top  + nb.height/2);

      if(Math.hypot(dx, dy) < 85){
        growYes();
        moveNoButtonAwayFrom(e.clientX, e.clientY);
      }
    });

    // ‚úÖ Clique em SIM: trava tudo + volta ambos ao tamanho normal
    yesBtn.addEventListener("click", () => {
      finished = true;

      // reset do SIM (tamanho normal)
      yesScale = 1;
      yesBtn.style.transform = "scale(1)";

      // reset do N√ÉO (tamanho normal + volta a ser relative)
      noBtn.style.transform = "scale(1)";
      noBtn.style.position = "relative";
      noBtn.style.left = "";
      noBtn.style.top  = "";
      noBtn.style.transform = "";
      noIsAbsolute = false;

      // mostra resultado
      result.classList.add("show");

      // desativa cliques
      yesBtn.disabled = true;
      noBtn.disabled = true;

      yesBtn.style.filter = "brightness(1.05)";
      noBtn.style.opacity = ".45";
    });
  </script>
</body>
</html>
